# Laptop Cooling Analysis Scripts

This repository contains scripts to test laptop cooling performance under load and analyze the collected temperature data.

## Overview

The process involves two main components:

1.  **`cooling_test.sh` (Bash Script):** Runs a CPU stress test (`stress-ng`) and simultaneously logs CPU (`sensors`) and GPU (`nvidia-smi`) temperatures at regular intervals into a CSV file.
2.  **`coolind_data_graphs.v3.py` (Python Script):** Reads the CSV files generated by the bash script (or similar data sources), processes the temperature data, calculates steady-state averages, performs correlation analysis between fan speed and temperature, and generates plots and log files comparing different cooling conditions (baselines vs. cooling pad speeds).

## 1. Data Generation (`cooling_test.sh`)

This script automates the process of stressing the CPU and logging temperatures.

**Functionality:**
*   Takes a test identifier (e.g., `ground`, `1200`) as an argument to name the output CSV file.
*   Runs `stress-ng --cpu $(nproc)` for a configurable duration (`STRESS_TIME`).
*   Every `INTERVAL` seconds, it records:
    *   Current `Timestamp` (`YYYY-MM-DD HH:MM:SS`)
    *   CPU Package temperature (`sensors`)
    *   CPU Core 0 temperature (`sensors`)
    *   GPU temperature (`nvidia-smi` - **Note:** May need modification for non-NVIDIA GPUs or different `sensors` output).
*   Saves data to a CSV file (e.g., `ground.csv`, `cooling_Test_1200.csv`).

**Dependencies:**
*   `bash`
*   `stress-ng`
*   `lm-sensors` (requires configuration via `sudo sensors-detect`)
*   `nvidia-smi` (for NVIDIA GPUs) or alternative for other GPUs.
*   Standard Linux core utilities (`date`, `awk`, `sed`, `ps`, etc.)

**Usage Example:**
```bash
# Run baseline test for 'ground' condition (saves to ground.csv)
bash cooling_test.sh ground

# Run test with cooling pad at 1200 RPM (saves to cooling_Test_1200.csv)
bash cooling_test.sh 1200
```

## 2. CSV Data Structure 

The Python script `(coolind_data_graphs.v3.py)` expects input CSV files with the following structure and column headers:


```csv
Timestamp,CPU_Temp,CPU_Temp2,GPU_Temp
YYYY-MM-DD HH:MM:SS,float,float,float
2023-10-27 10:00:00,85.1,84.0,75.0
2023-10-27 10:00:05,85.5,84.2,75.5
...
```

Timestamp: Date and time of the reading (parsable by pandas).

CPU_Temp: Primary CPU temperature reading (e.g., Package ID). Numeric (°C).

CPU_Temp2: Secondary CPU temperature reading (e.g., Core 0). Numeric (°C). Used with CPU_Temp to calculate an average CPU temp.

GPU_Temp: GPU temperature reading. Numeric (°C).

Values should be numeric temperatures in Celsius, or convertible to numeric. N/A or empty strings will be handled as missing data by the Python script.

Filename Convention:
The Python script identifies files based on their names:

    Baselines: Defined in the BASELINE_FILES dictionary (e.g., ground.csv, normal_stand.csv).

    RPM Tests: Matched by TEST_FILE_PATTERN (e.g., cooling_Test_500.csv, cooling_test_1500.csv). The number before .csv is extracted as RPM.

3. Data Analysis (coolind_data_graphs.v3.py)

This script performs the analysis and visualization.

Functionality:

    Reads baseline and test CSV files from the specified directory (DATA_DIR).

    Cleans data (handles non-numeric values, calculates average CPU temp).

    Calculates elapsed time for each test.

    Identifies a steady-state period (after STEADY_STATE_START_TIME seconds) and calculates mean temperatures for this period.

    Generates plots:

        Temperature vs. Time (CPU & GPU)

        Steady-State Temperature Distribution (Box Plots)

        Average Steady-State Temperatures (Bar Chart)

        Steady-State Temperature vs. Fan Speed (Scatter Plot with trendline & correlation)

    Performs Pearson correlation analysis between fan speed (RPM) and steady-state temperatures.

    Outputs plots and detailed logs to language-specific subdirectories within BASE_OUTPUT_DIR.

    Includes hypothesis testing framework regarding fan speed effectiveness.

Dependencies:

    Python 3.x

    pandas

    matplotlib

    numpy

    scipy

Configuration:
Key parameters like file paths, steady-state time, baseline names, and output languages can be adjusted within the script's configuration section.

Usage:

    Ensure all required CSV files (generated by cooling_test.sh or similar) are present in DATA_DIR and correctly named.

    Install Python dependencies:
